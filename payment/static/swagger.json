{"info": {"title": "StrongPay", "version": "1.0.0"}, "paths": {"/api/v1/Checkout": {"put": {"description": "Creates/Updates the Checkout information. Updating the information will replace all the original information.", "tags": ["Payment"], "parameters": [{"in": "path", "name": "checkout_token", "schema": {"type": "string"}, "required": true, "description": "Checkout's ID value given when it is created."}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"AMOUNT": {"type": "number", "description": "Total amount to be paid by the client. This value must be equal to the sum of the item's price."}, "MERCHANT": {"type": "string", "description": "ID that identifies merchant in the system."}, "RETURN_URL": {"type": "string", "description": "URL to where the client in redirect if the payment is successful"}, "CANCEL_URL": {"type": "string", "description": "URL to where the client in redirect if the payment is cancelled"}, "CURRENCY": {"type": "string", "description": "Three characters currency code. Default value is 'EUR'. [https://www.xe.com/iso4217.php]", "default": "EUR"}, "ITEMS": {"type": "array", "items": {"type": "object", "properties": {"NAME": {"type": "string", "description": "Checkout item's name. Default value is \"Item\". This parameter is required if you fill any other item parameter.", "default": "Item"}, "PRICE": {"type": "number", "description": "Checkout item's price. Default value is the one given in 'AMOUNT'. This parameter is required if you fill any other item parameter."}, "QUANTITY": {"type": "integer", "description": "Checkout item's quantity. Default value is 1. This parameter is not required at any situation.", "default": 1}, "IMAGE": {"type": "string", "description": "Checkout item's image URL. It must be from your domain. This parameter is not required at any situation."}, "URL": {"type": "string", "description": "Checkout item's URL to your domain. This parameter is not required at any situation."}}}}}, "required": ["AMOUNT", "MERCHANT", "RETURN_URL", "CANCEL_URL"]}}}}, "responses": {"201": {"description": "A JSON containing result of the proccess", "content": {"application/json": {"schema": {"properties": {"SUCCESS": {"type": "boolean"}}}}}}, "400": {"description": "A JSON containing a ERROR that identifies the problem", "content": {"application/json": {"schema": {"properties": {"ERROR": {"type": "string"}}}}}}}}, "post": {"description": "Creates a checkout", "tags": ["Payment"], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"AMOUNT": {"type": "number", "description": "Total amount to be paid by the client. This value must be equal to the sum of the item's price."}, "MERCHANT": {"type": "string", "description": "ID that identifies merchant in the system."}, "RETURN_URL": {"type": "string", "description": "URL to where the client in redirect if the payment is successful"}, "CANCEL_URL": {"type": "string", "description": "URL to where the client in redirect if the payment is cancelled"}, "CURRENCY": {"type": "string", "description": "Three characters currency code. Default value is 'EUR'. [https://www.xe.com/iso4217.php]", "default": "EUR"}, "ITEMS": {"type": "array", "items": {"type": "object", "properties": {"NAME": {"type": "string", "description": "Checkout item's name. Default value is \"Item\". This parameter is required if you fill any other item parameter.", "default": "Item"}, "PRICE": {"type": "number", "description": "Checkout item's price. Default value is the one given in 'AMOUNT'. This parameter is required if you fill any other item parameter."}, "QUANTITY": {"type": "integer", "description": "Checkout item's quantity. Default value is 1. This parameter is not required at any situation.", "default": 1}, "IMAGE": {"type": "string", "description": "Checkout item's image URL. It must be from your domain. This parameter is not required at any situation."}, "URL": {"type": "string", "description": "Checkout item's URL to your domain. This parameter is not required at any situation."}}}}}, "required": ["AMOUNT", "MERCHANT", "RETURN_URL", "CANCEL_URL"]}}}}, "responses": {"201": {"description": "A JSON containing a TOKEN that identifies the Checkout", "content": {"application/json": {"schema": {"properties": {"TOKEN": {"type": "string"}}}}}}, "400": {"description": "A JSON containing a ERROR that identifies the problem", "content": {"application/json": {"schema": {"properties": {"ERROR": {"type": "string"}}}}}}}}, "get": {"description": "Returns checkout details such as items, status, buyer, billing address.", "tags": ["Payment"], "parameters": [{"in": "path", "name": "checkout_token", "schema": {"type": "string"}, "required": true, "description": "Checkout token given by create_checkout"}], "responses": {"200": {"description": "A JSON containing buyer information and checkout status (not defined yet)", "content": {"application/json": {"schema": {"type": "object", "properties": {"CHECKOUT": {"type": "object", "properties": {"ID": {"type": "string", "description": "Checkout's ID value given when it is created."}, "AMOUNT": {"type": "number", "description": "Total amount of checkout, must be equal to the sum of the items."}, "STATUS": {"type": "string", "description": "Current status of checkout. ('CREATED'/'READY','PAID')"}, "CURRENCY": {"type": "string", "description": "Currency used on checkout."}, "PAID_WITH": {"type": "string", "description": "Partial part of the Credit Card used for the purchase."}}}, "BUYER": {"type": "object", "properties": {"ID": {"type": "string", "description": "ID that identifies buyer in the system."}, "NAME": {"type": "string", "description": "Registration name of the buyer."}, "NIF": {"type": "number", "description": "NIF given by the buyer. (Optional)"}}}, "MERCHANT": {"type": "object", "properties": {"ID": {"type": "string", "description": "ID that identifies merchant in the system."}, "NAME": {"type": "string", "description": "Registration name of the merchant."}}}, "ITEMS": {"type": "array", "items": {"type": "object", "properties": {"NAME": {"type": "string", "description": "Name/Description of the item given by the merchant."}, "PRICE": {"type": "number", "description": "Total price of the item."}, "QUANTITY": {"type": "number", "description": "Quantity of the item to be bought."}, "URL": {"type": "string", "description": "URL of the item in the merchant's domain."}, "IMAGE": {"type": "string", "description": "URL of item's image in the merchant's domain."}}}}}}}}}, "400": {"description": "A JSON containing a ERROR that identifies the problem", "content": {"application/json": {"schema": {"properties": {"ERROR": {"type": "string"}}}}}}}}, "delete": {"description": "Deletes the checkout", "tags": ["Payment"], "parameters": [{"in": "path", "name": "checkout_token", "schema": {"type": "string"}, "required": true, "description": "Checkout's ID value given when it is created."}], "responses": {"200": {"description": "A JSON containing the result of the proccess.", "content": {"application/json": {"schema": {"properties": {"SUCCESS": {"type": "boolean"}}}}}}, "400": {"description": "A JSON containing a ERROR that identifies the problem", "content": {"application/json": {"schema": {"properties": {"ERROR": {"type": "string"}}}}}}}}}, "/api/v1/ExecuteCheckout": {"get": {"description": "Confirm and execute payment. Returns Success or Failure.", "tags": ["Payment"], "parameters": [{"in": "path", "name": "checkout_token", "schema": {"type": "string"}, "required": true, "description": "Checkout's ID value given when it is created."}, {"in": "path", "name": "buyer_id", "schema": {"type": "string"}, "required": true, "description": "Buyer's ID value given on Checkout Details."}], "responses": {"200": {"description": "A JSON containing the result of payment.", "content": {"application/json": {"schema": {"properties": {"SUCCESS": {"type": "boolean"}}}}}}, "400": {"description": "A JSON containing the ERROR that identifies the problem.", "content": {"application/json": {"schema": {"properties": {"ERROR": {"type": "string"}}}}}}}}}, "/api/v1/user": {"get": {"description": "Returns user information such as name, email, credit cards and billing address's.", "tags": ["User"], "responses": {"200": {"description": "A JSON containing user information.", "content": {"application/json": {"schema": {"type": "object", "properties": {"BUYER": {"type": "object", "properties": {"ID": {"type": "string", "description": "Checkout ID value given when it is created."}, "NAME": {"type": "number", "description": "Total amount of checkout, must be equal to the sum of the items."}, "NIF": {"type": "string", "description": "Current status of checkout. (CREATED/READY/PAID)"}, "CREDIT_CARDS": {"type": "array", "description": "User credit card list.", "items": {"type": "object", "properties": {"NUMBER": {"type": "string", "description": "Last digits of the credit card number."}, "EXP": {"type": "string", "description": "Expiration data of the credit card."}}}}, "BILLING_ADDRESS": {"type": "array", "description": "User billing address list.", "items": {"type": "object", "properties": {"FIRST_NAME": {"type": "string", "description": "First Name of the billing address."}, "LAST_NAME": {"type": "string", "description": "Last Name of the billing address."}, "COUNTRY": {"type": "string", "description": "Country of the billing address."}, "ADDRESS": {"type": "string", "description": "Street name and number of the billing address."}, "POST_CODE": {"type": "string", "description": "Post code of the billing address."}, "CITY": {"type": "string", "description": "City of the billing address."}, "PHONE": {"type": "number", "description": "Phone of the billing address."}}}}}}}}}}}, "400": {"description": "A JSON containing a ERROR that identifies the problem", "content": {"application/json": {"schema": {"properties": {"ERROR": {"type": "string"}}}}}}}}}, "/api/v1/user/client": {"put": {"description": "Updates editable client information.", "tags": ["User"], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"NAME": {"type": "string", "description": "Updated User Name."}, "NIF": {"type": "number", "description": "Updated User NIF."}}}}}}, "responses": {"200": {"description": "A JSON containing the result of payment.", "content": {"application/json": {"schema": {"properties": {"SUCCESS": {"type": "boolean"}}}}}}, "400": {"description": "A JSON containing the ERROR that identifies the problem.", "content": {"application/json": {"schema": {"properties": {"ERROR": {"type": "string"}}}}}}}}}, "/api/v1/user/billing_address": {"put": {"description": "Updates editable billing address information.", "tags": ["User"], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"ID": {"type": "number", "description": "ID of the billing address to be updated"}, "FIRST_NAME": {"type": "string", "description": "First Name of the billing address."}, "LAST_NAME": {"type": "string", "description": "Last Name of the billing address."}, "COUNTRY": {"type": "string", "description": "Country of the billing address."}, "ADDRESS": {"type": "string", "description": "Street name and number of the billing address."}, "POST_CODE": {"type": "string", "description": "Post code of the billing address."}, "CITY": {"type": "string", "description": "City of the billing address."}, "PHONE": {"type": "number", "description": "Phone of the billing address."}}}}}}, "responses": {"200": {"description": "A JSON containing the result of payment.", "content": {"application/json": {"schema": {"properties": {"SUCCESS": {"type": "boolean"}}}}}}, "400": {"description": "A JSON containing the ERROR that identifies the problem.", "content": {"application/json": {"schema": {"properties": {"ERROR": {"type": "string"}}}}}}}}, "delete": {"description": "Deletes billing address for the user (invisible)", "tags": ["User"], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"ID": {"type": "number", "description": "ID of billing address to delete"}}}}}}, "responses": {"200": {"description": "A JSON containing the result of payment.", "content": {"application/json": {"schema": {"properties": {"SUCCESS": {"type": "boolean"}}}}}}, "400": {"description": "A JSON containing the ERROR that identifies the problem.", "content": {"application/json": {"schema": {"properties": {"ERROR": {"type": "string"}}}}}}}}}, "/api/v1/user/credit_card": {"delete": {"description": "Deletes credit card for the user (invisible)", "tags": ["User"], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"ID": {"type": "number", "description": "ID of credit card to delete"}}}}}}, "responses": {"200": {"description": "A JSON containing the result of payment.", "content": {"application/json": {"schema": {"properties": {"SUCCESS": {"type": "boolean"}}}}}}, "400": {"description": "A JSON containing the ERROR that identifies the problem.", "content": {"application/json": {"schema": {"properties": {"ERROR": {"type": "string"}}}}}}}}}}, "tags": [], "openapi": "3.0.0", "components": {"schemas": {}, "parameters": {}}, "base_path": "http://127.0.0.1:5000/"}